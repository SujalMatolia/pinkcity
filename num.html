<!DOCTYPE html>
<html>
  <head>
    <title>Today's Number</title>
  </head>
  <body>
    <form id="numberForm">
      <input type="text" placeholder="Number" id="numberInput" />
      <button type="submit" onclick="savenum(event)">Submit</button>
    </form>

    <script>
      function savenum(event) {
        event.preventDefault(); // Prevent the default form submission behavior

        const numberInput = document.getElementById("numberInput");
        const number = numberInput.value;

        fetch("/submitnumber", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ number }),
        })
          .then((response) => {
            if (!response.ok) {
              throw new Error("Failed to store number");
            }
            return response.json();
          })
          .then((data) => {
            console.log(data.message);
            numberInput.value = "";
            window.location.href = "http://localhost:7000/";
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }

      document.getElementById("numberForm").addEventListener("submit", savenum);
    </script>
  </body>
</html>
